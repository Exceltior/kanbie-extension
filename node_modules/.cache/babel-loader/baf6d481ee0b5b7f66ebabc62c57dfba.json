{"ast":null,"code":"import _objectSpread from\"/home/atude/projects/kanbie/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/atude/projects/kanbie/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import'./App.css';import{DragDropContext,Droppable,Draggable}from'react-beautiful-dnd';import CheckboxMarkedCircleOutlineIcon from'mdi-react/CheckboxMarkedCircleOutlineIcon';import CheckboxMarkedCircleIcon from'mdi-react/CheckboxMarkedCircleIcon';import ProgressCheckIcon from'mdi-react/ProgressCheckIcon';import DeleteForeverIcon from'mdi-react/DeleteForeverIcon';import PlusIcon from'mdi-react/PlusIcon';import initColumns from'./initColumns';import KanbieLogo from\"./assets/kanbie-logo.svg\";import uuid from'uuid';var maxItems=5;function App(){var _useState=useState(),_useState2=_slicedToArray(_useState,2),columns=_useState2[0],setColumns=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isInput=_useState4[0],setInput=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),loaded=_useState6[0],setLoaded=_useState6[1];useEffect(function(){var getColumns=localStorage.getItem(\"columns\");if(!getColumns){setColumns(initColumns);}else{setColumns(JSON.parse(getColumns));}setLoaded(true);},[]);var saveColumns=function saveColumns(columns){localStorage.setItem(\"columns\",JSON.stringify(columns));};var onDragEnd=function onDragEnd(result){var source=result.source,destination=result.destination;if(!destination)return;//Delete\nif(destination.droppableId===\"trash\"){var sourceItems=columns.filter(function(column){return column.title===source.droppableId;})[0].items;sourceItems.splice(source.index,1);}else{//Different column\nif(source.droppableId!==destination.droppableId){var _sourceItems=columns.filter(function(column){return column.title===source.droppableId;})[0].items;var destItems=columns.filter(function(column){return column.title===destination.droppableId;})[0].items;if(destItems.length>=maxItems)return;var _sourceItems$splice=_sourceItems.splice(source.index,1),_sourceItems$splice2=_slicedToArray(_sourceItems$splice,1),removed=_sourceItems$splice2[0];destItems.splice(destination.index,0,removed);}else{//Same column\nvar _sourceItems2=columns.filter(function(column){return column.title===source.droppableId;})[0].items;var _sourceItems2$splice=_sourceItems2.splice(source.index,1),_sourceItems2$splice2=_slicedToArray(_sourceItems2$splice,1),_removed=_sourceItems2$splice2[0];_sourceItems2.splice(destination.index,0,_removed);}}saveColumns(columns);};var renderInputBox=function renderInputBox(){return React.createElement(\"input\",{autoFocus:true,onKeyDown:function onKeyDown(e){return onAddCard(e);},className:\"input-add\"});};var handleClickAdd=function handleClickAdd(){setInput(!isInput);};var onAddCard=function onAddCard(e){if(e.key===\"Enter\"){columns[0].items.push({id:uuid(),content:\"hello!\"});setInput(false);}return;};return React.createElement(\"div\",null,React.createElement(\"div\",{className:\"header-container\"},React.createElement(\"img\",{alt:\"logo\",src:KanbieLogo,width:28,className:\"kanbie-logo\"}),React.createElement(\"div\",{className:\"header\"},\"kanbie\")),!!loaded&&React.createElement(\"div\",{className:\"main-container\"},React.createElement(DragDropContext,{onDragEnd:onDragEnd},columns.map(function(column){return React.createElement(Droppable,{droppableId:column.title},function(provided,snapshot){return React.createElement(\"div\",Object.assign({},provided.droppableProps,{ref:provided.innerRef,style:{background:snapshot.isDraggingOver?\"#400033\":\"#121212\",minHeight:\"180px\"},className:\"droppable-container\"}),React.createElement(\"div\",{className:\"column-header-container\"},React.createElement(\"div\",{className:\"column-heading\"},column.title),column.title===\"To-do\"?React.createElement(CheckboxMarkedCircleOutlineIcon,{size:24,color:\"#fff\",style:{marginBottom:\"8px\"}}):column.title===\"Doing\"?React.createElement(ProgressCheckIcon,{size:24,color:\"#fff\",style:{marginBottom:\"8px\"}}):React.createElement(CheckboxMarkedCircleIcon,{size:24,color:\"#fff\",style:{marginBottom:\"8px\"}})),column.items.map(function(item,i){return React.createElement(Draggable,{key:item.id,draggableId:item.content+item.id,index:i},function(provided,snapshot){return React.createElement(\"div\",Object.assign({},provided.draggableProps,provided.dragHandleProps,{ref:provided.innerRef,style:_objectSpread({userSelect:'none',backgroundColor:snapshot.isDragging?\"#272727\":\"#1a1a1a\"},provided.draggableProps.style),className:\"draggable-card\"}),item.content);});}),provided.placeholder);});}),React.createElement(Droppable,{droppableId:\"trash\"},function(provided,snapshot){return React.createElement(\"div\",Object.assign({},provided.droppableProps,{ref:provided.innerRef,style:{background:snapshot.isDraggingOver?\"#6e0000\":\"#3d0000\",width:\"20px\",position:\"absolute\",top:0,right:0,margin:\"12px\"},className:\"droppable-container\"}),React.createElement(DeleteForeverIcon,{color:\"#fff\",className:\"delete-icon\"}));})),React.createElement(\"div\",{className:\"add-button-container droppable-container\",onClick:function onClick(){return handleClickAdd();}},React.createElement(PlusIcon,{color:\"#fff\",className:\"add-icon\"}),!!isInput&&renderInputBox())));}export default App;","map":{"version":3,"sources":["/home/atude/projects/kanbie/src/App.js"],"names":["React","useState","useEffect","DragDropContext","Droppable","Draggable","CheckboxMarkedCircleOutlineIcon","CheckboxMarkedCircleIcon","ProgressCheckIcon","DeleteForeverIcon","PlusIcon","initColumns","uuid","maxItems","App","columns","setColumns","isInput","setInput","loaded","setLoaded","getColumns","localStorage","getItem","JSON","parse","saveColumns","setItem","stringify","onDragEnd","result","source","destination","droppableId","sourceItems","filter","column","title","items","splice","index","destItems","length","removed","renderInputBox","e","onAddCard","handleClickAdd","key","push","id","content","KanbieLogo","map","provided","snapshot","droppableProps","innerRef","background","isDraggingOver","minHeight","marginBottom","item","i","draggableProps","dragHandleProps","userSelect","backgroundColor","isDragging","style","placeholder","width","position","top","right","margin"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport './App.css';\n\nimport { DragDropContext, Droppable, Draggable } from 'react-beautiful-dnd';\nimport CheckboxMarkedCircleOutlineIcon from 'mdi-react/CheckboxMarkedCircleOutlineIcon';\nimport CheckboxMarkedCircleIcon from 'mdi-react/CheckboxMarkedCircleIcon';\nimport ProgressCheckIcon from 'mdi-react/ProgressCheckIcon';\nimport DeleteForeverIcon from 'mdi-react/DeleteForeverIcon';\nimport PlusIcon from 'mdi-react/PlusIcon';\n\nimport initColumns from './initColumns';\nimport KanbieLogo from './assets/kanbie-logo.svg';\nimport uuid from 'uuid';\n\nconst maxItems = 5;\n\nfunction App() {\n  const [columns, setColumns] = useState();\n  const [isInput, setInput] = useState(false);\n  const [loaded, setLoaded] = useState(false);\n\n  useEffect(() => {\n    const getColumns = localStorage.getItem(\"columns\");\n\n    if(!getColumns) {\n      setColumns(initColumns);\n    } else {\n      setColumns(JSON.parse(getColumns));\n    }\n\n    setLoaded(true);\n  }, []);\n\n\n  const saveColumns = (columns) => {\n    localStorage.setItem(\"columns\", JSON.stringify(columns));\n  }\n\n  const onDragEnd = (result) => {\n    const { source, destination } = result;\n\n    if(!destination) return;\n\n    //Delete\n    if(destination.droppableId === \"trash\") {\n      const sourceItems = columns.filter((column => column.title === source.droppableId))[0].items;\n      sourceItems.splice(source.index, 1);\n    } else {\n      //Different column\n      if(source.droppableId !== destination.droppableId) {\n        const sourceItems = columns.filter((column => column.title === source.droppableId))[0].items;\n        const destItems = columns.filter((column => column.title === destination.droppableId))[0].items;\n        if(destItems.length >= maxItems) return;\n        const [removed] = sourceItems.splice(source.index, 1);\n        destItems.splice(destination.index, 0, removed);\n      } else {\n        //Same column\n        const sourceItems = columns.filter((column => column.title === source.droppableId))[0].items;\n        const [removed] = sourceItems.splice(source.index, 1);\n        sourceItems.splice(destination.index, 0, removed);\n      }\n    }\n\n    saveColumns(columns);\n  }\n\n  const renderInputBox = () => (\n    <input \n      autoFocus\n      onKeyDown={(e) => onAddCard(e)}\n      className=\"input-add\"\n    />\n  )\n\n  const handleClickAdd = () => {\n    setInput(!isInput);\n\n  }\n\n  const onAddCard = (e) => {\n    if(e.key === \"Enter\") {\n      columns[0].items.push({\n        id: uuid(),\n        content: \"hello!\"\n      });\n\n      setInput(false);\n    }\n\n    return;\n  }\n\n  return (\n    <div>\n      <div className=\"header-container\">\n        <img alt=\"logo\" src={KanbieLogo} width={28} className=\"kanbie-logo\"/>\n        <div className=\"header\">\n          kanbie\n        </div>\n      </div>\n      {!!loaded && \n      <div className=\"main-container\">\n        <DragDropContext\n          onDragEnd={onDragEnd}\n        >\n          {columns.map(column => (\n            <Droppable droppableId={column.title}>\n              {(provided, snapshot) => (\n                <div\n                  {...provided.droppableProps}\n                  ref={provided.innerRef}\n                  style={{\n                    background: snapshot.isDraggingOver ? \"#400033\" : \"#121212\",\n                    minHeight: \"180px\"\n                  }}\n                  className=\"droppable-container\"\n                > \n                  <div className=\"column-header-container\">\n                    <div className=\"column-heading\">{column.title}</div>\n                    {column.title === \"To-do\" ? \n                      <CheckboxMarkedCircleOutlineIcon size={24} color=\"#fff\" style={{marginBottom: \"8px\"}}/>\n                      : (column.title === \"Doing\" ?\n                      <ProgressCheckIcon size={24} color=\"#fff\" style={{marginBottom: \"8px\"}}/>\n                      : \n                      <CheckboxMarkedCircleIcon size={24} color=\"#fff\" style={{marginBottom: \"8px\"}}/>\n                      )\n                    }\n\n                  </div>\n                  {column.items.map((item, i) => (\n                    <Draggable key={item.id} draggableId={item.content + item.id} index={i}>\n                      {(provided, snapshot) => (\n                        <div \n                          {...provided.draggableProps}\n                          {...provided.dragHandleProps}\n                          ref={provided.innerRef}\n                          style={{\n                            userSelect: 'none',\n                            backgroundColor: snapshot.isDragging ? \"#272727\" : \"#1a1a1a\",\n                            ...provided.draggableProps.style\n                          }}\n                          className=\"draggable-card\"\n                        >\n                          {item.content}\n                        </div>\n                      )}\n                    </Draggable>\n                  ))}\n                  {provided.placeholder}\n                </div>\n              )}\n            </Droppable>\n          ))}\n          <Droppable droppableId=\"trash\">\n            {(provided, snapshot) => (\n              <div\n                {...provided.droppableProps}\n                ref={provided.innerRef}\n                style={{\n                  background: snapshot.isDraggingOver ? \"#6e0000\" : \"#3d0000\",\n                  width: \"20px\",\n                  position: \"absolute\",\n                  top: 0,\n                  right: 0,\n                  margin: \"12px\"\n                }}\n                className=\"droppable-container\"\n              > \n                <DeleteForeverIcon color=\"#fff\" className=\"delete-icon\"/>\n              </div>\n            )}  \n          </Droppable>\n        </DragDropContext>\n        <div \n          className=\"add-button-container droppable-container\"\n          onClick={() => handleClickAdd()}\n        >\n          <PlusIcon color=\"#fff\" className=\"add-icon\"/>\n          {!!isInput && renderInputBox()}\n        </div>\n      </div>\n      }\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}